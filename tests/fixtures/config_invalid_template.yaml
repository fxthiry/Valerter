# Configuration fixture with invalid Jinja template for testing fail-fast validation
victorialogs:
  url: "http://victorialogs:9428"

notifiers:
  test:
    type: mattermost
    webhook_url: "https://example.com/hooks/test"

defaults:
  throttle:
    count: 5
    window: 60s

templates:
  broken_template:
    # Invalid Jinja: unclosed block
    title: "{% if error %}Alert"
    body: "{{ body }}"

  valid_template:
    title: "{{ title }}"
    body: "{{ body }}"

rules:
  - name: "valid_rule"
    query: '_stream:{host="server1"}'
    parser:
      regex: '(?P<host>\S+)'
    notify:
      template: "broken_template"
      destinations:
        - "test"
