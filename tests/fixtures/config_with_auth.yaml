# Configuration fixture with Basic Auth, headers, and TLS options
# NOTE: This is a TEST FIXTURE only - credentials are intentionally hardcoded.
# In production, always use environment variables: ${VL_USER}, ${VL_PASS}, etc.
victorialogs:
  url: "https://victorialogs.secure.local:9428"
  basic_auth:
    username: "testuser"
    password: "testpassword"
  headers:
    X-API-Key: "secret-api-key-12345"
    X-Custom-Header: "custom-value"
  tls:
    verify: false

notifiers:
  test-notifier:
    type: mattermost
    webhook_url: "https://mattermost.example.com/hooks/test"

defaults:
  throttle:
    count: 5
    window: 60s
  notify:
    template: "default_alert"

templates:
  default_alert:
    title: "{{ title | default('Alert') }}"
    body: "{{ body }}"

rules:
  - name: "test_rule"
    query: '_stream:{app="test"}'
    parser:
      json:
        fields: ["message"]
